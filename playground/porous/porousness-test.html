<html>
<head>
  	<script src="../../assets/js/three.min.js"></script>
	<script src="../../assets/js/orbitcontrols.js"></script>
</head>

<body>
</body>


<script>

  	// scene setup
	var renderer = new THREE.WebGLRenderer({antialias: true});
	renderer.setSize(document.body.clientWidth, document.body.clientHeight);
	document.body.appendChild(renderer.domElement);

	var scene = new THREE.Scene();

	// CAMERA
	var fov = 45; // camera field-of-view in degrees
	var width = renderer.domElement.width;
	var height = renderer.domElement.height;
	var aspect = width / height; // view aspect ratio
	var camera = new THREE.PerspectiveCamera( fov, aspect );
	
	camera.position.z = -200;
	camera.position.y = -400;
	camera.lookAt(scene.position);

	scene.controls = new THREE.OrbitControls( this.camera );
	// LIGHTS

	ambientLight = new THREE.AmbientLight( 0xffffff );
	scene.add( ambientLight );

	// GEOMETRY
	
	//geometry = new THREE.PlaneGeometry(500, 281, 500, 281);
	geometry = new THREE.CubeGeometry( 100, 100, 100,2,2,2);

	// DO STUFF //
	var value = 100;

	geometry.faces.forEach(function(face){
		var normal=face.normal.clone();
		normal.multiplyScalar(value*Math.random());

		var v1 = geometry.vertices[face.a].clone();
		var v2 = geometry.vertices[face.b].clone();
		var v3 = geometry.vertices[face.c].clone();

		v1.add(normal);
		v2.add(normal);
		v3.add(normal);

		var i=geometry.vertices.length;

		geometry.vertices.push(v1);
		geometry.vertices.push(v2);
		geometry.vertices.push(v3);

		geometry.faces.push(new THREE.Face3(face.a, face.b, i+1));
		geometry.faces.push(new THREE.Face3(face.a, i+1, i));
		geometry.faces.push(new THREE.Face3(face.b, face.c, i+2));
		geometry.faces.push(new THREE.Face3(face.b, i+2, i+1));
		geometry.faces.push(new THREE.Face3(face.c, face.a, i));
		geometry.faces.push(new THREE.Face3(face.c, i, i+2));

		geometry.faces.push(new THREE.Face3(i, i+1, i+2));
		face = [];
	});

	geometry.mergeVertices();
	geometry.computeFaceNormals();
	// END DO STUFF //
  
	var cube = new THREE.Mesh( geometry, new THREE.MeshNormalMaterial());
	cube.rotation.y = Math.PI;

	scene.add(cube);

	// FUNCTIONS
	
	function animate() {
		requestAnimationFrame( animate );
		renderer.render( scene, camera );
	}

	requestAnimationFrame( animate );
	
</script>
</html>       
